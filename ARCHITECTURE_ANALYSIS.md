# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑: vscode-pml-extension

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 4 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: 0.10.3  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production Ready

---

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**vscode-pml-extension** ‚Äî —ç—Ç–æ VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —è–∑—ã–∫–∞ PML (Programmable Macro Language) –∫–æ–º–ø–∞–Ω–∏–∏ AVEVA E3D. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —è–∑—ã–∫–æ–≤—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —á–µ—Ä–µ–∑ Language Server Protocol (LSP) —Å IntelliSense, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –Ω–∞–±–æ—Ä–æ–º —É—Ç–∏–ª–∏—Ç.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—à–µ–ª –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (P0) —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö (P1) —Ä–µ—à–µ–Ω–æ. –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º TypeScript –∏ ESLint. –ì–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**‚ö†Ô∏è –í–ê–ñ–ù–ê–Ø –û–°–û–ë–ï–ù–ù–û–°–¢–¨ –†–ê–ó–†–ê–ë–û–¢–ö–ò –ù–ê PML**:
PML-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ **–≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ**. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π —è–∑—ã–∫–∞ –∏ workflow AVEVA E3D. –•–æ—Ç—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç workspace-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∏ –∫—Ä–æ—Å—Å-—Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (Go to Definition, Find References), –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞:
- –†–∞–±–æ—Ç–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –®–∞–±–ª–æ–Ω–∞—Ö –∏ –∑–∞–≥–æ—Ç–æ–≤–∫–∞—Ö (snippets, code actions)
- FAQ –∏ –ø—Ä–∏–º–µ—Ä–∞—Ö (Button/Frame Gadgets tutorials)
- –£—Ç–∏–ª–∏—Ç–∞—Ö –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∫–æ–¥–æ–º (Array, String, Formatting)

–≠—Ç–æ—Ç —Ñ–∞–∫—Ç –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—é –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π ‚Äî cross-file —Ñ–∏—á–∏ –∏–º–µ—é—Ç –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.

---

## 1. –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vscode-pml-extension/
‚îú‚îÄ‚îÄ src/                          # VS Code Extension (–∫–ª–∏–µ–Ω—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ extension.ts              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ languageClient.ts         # LSP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ formatter.ts              # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ tools.ts                  # –£—Ç–∏–ª–∏—Ç—ã (Array, String, Real, Dbref)
‚îÇ   ‚îî‚îÄ‚îÄ codeActions/              # Code Actions –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ pml-language-server/      # Language Server (—Å–µ—Ä–≤–µ—Ä)
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ server.ts         # LSP —Å–µ—Ä–≤–µ—Ä
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ parser/           # –ü–∞—Ä—Å–µ—Ä (Lexer + Parser ‚Üí AST)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index/            # –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (SymbolIndex, WorkspaceIndexer)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ providers/        # LSP –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Completion, Hover, Definition –∏ —Ç.–¥.)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ diagnostics/      # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (TypoDetector, ArrayIndexChecker)
‚îÇ       ‚îî‚îÄ‚îÄ test/                 # Unit —Ç–µ—Å—Ç—ã (Vitest)
‚îú‚îÄ‚îÄ syntaxes/                     # TextMate –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ snippets/                     # Code snippets
‚îú‚îÄ‚îÄ icons/                        # –ò–∫–æ–Ω–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ examples/                     # –ü—Ä–∏–º–µ—Ä—ã PML –∫–æ–¥–∞
‚îú‚îÄ‚îÄ scripts/                      # –£—Ç–∏–ª–∏—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ .husky/                       # Git hooks (pre-commit)
‚îú‚îÄ‚îÄ .editorconfig                 # –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ esbuild.js                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ package.json                  # –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îî‚îÄ‚îÄ tsconfig.json                 # TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### 1.2 –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|-----------|-----------|--------|
| **–Ø–∑—ã–∫** | TypeScript | 5.1.6 |
| **Runtime** | Node.js | ‚â•16.x |
| **LSP Client** | vscode-languageclient | 9.0.1 |
| **LSP Server** | vscode-languageserver | 9.0.1 |
| **–°–±–æ—Ä–∫–∞** | esbuild | 0.24.2 |
| **–õ–∏–Ω—Ç–µ—Ä** | ESLint | 8.45.0 |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | Vitest | 1.1.1 |
| **Git Hooks** | Husky | 9.1.7 |
| **Staging** | lint-staged | 16.2.6 |

### 1.3 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

**Language Server Protocol (LSP)** ‚Äî –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **–ö–ª–∏–µ–Ω—Ç** (src/) —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ VS Code
- **–°–µ—Ä–≤–µ—Ä** (packages/pml-language-server/) —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON-RPC 2.0

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è: –∫—Ä–∞—à —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ —Ä–æ–Ω—è–µ—Ç VS Code
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏

---

## 2. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 2.1 Language Client (src/)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Language Server
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤, –∫–æ–º–∞–Ω–¥, Code Actions
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–µ—Ä–≤–µ—Ä–∞

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã**:
- `extension.ts` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- `languageClient.ts` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LSP –∫–ª–∏–µ–Ω—Ç–æ–º (–∑–∞–ø—É—Å–∫, graceful shutdown)
- `formatter.ts` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ—Ç—Å—Ç—É–ø—ã, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏)
- `tools.ts` ‚Äî –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏, —Å—Ç—Ä–æ–∫–∞–º–∏, real, dbref

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ

### 2.2 Language Server (packages/pml-language-server/)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
- –ü–∞—Ä—Å–∏–Ω–≥ PML –∫–æ–¥–∞ –≤ AST
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤ (–º–µ—Ç–æ–¥—ã, –æ–±—ä–µ–∫—Ç—ã, —Ñ–æ—Ä–º—ã)
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞, –æ–ø–µ—á–∞—Ç–∫–∏, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –º–∞—Å—Å–∏–≤–æ–≤)
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, Hover, Go to Definition, Find References

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:

```
server.ts (LSP Server)
    ‚Üì
parser/ (Lexer ‚Üí Tokens ‚Üí Parser ‚Üí AST)
    ‚Üì
index/ (SymbolIndex, WorkspaceIndexer)
    ‚Üì
providers/ (Completion, Hover, Definition, References, etc.)
    ‚Üì
diagnostics/ (TypoDetector, ArrayIndexChecker)
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ

### 2.3 –ü–∞—Ä—Å–µ—Ä (parser/)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- `lexer.ts` ‚Äî —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è (—Ç–µ–∫—Å—Ç ‚Üí —Ç–æ–∫–µ–Ω—ã)
- `parser.ts` ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–∞—Ä—Å–µ—Ä (—Ç–æ–∫–µ–Ω—ã ‚Üí AST)
- `ast.ts` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è AST —É–∑–ª–æ–≤

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**:
- ‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (!local, !!global)
- ‚úÖ –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ (–≤–∫–ª—é—á–∞—è !var[index] = value)
- ‚úÖ –ú–µ—Ç–æ–¥—ã (define method, endmethod)
- ‚úÖ –û–±—ä–µ–∫—Ç—ã (define object, endobject)
- ‚úÖ –§–æ—Ä–º—ã (define form, endform)
- ‚úÖ –£—Å–ª–æ–≤–∏—è (if/elseif/else/endif)
- ‚úÖ –¶–∏–∫–ª—ã (do/enddo)
- ‚úÖ –í—ã—Ä–∞–∂–µ–Ω–∏—è (–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞, –ª–æ–≥–∏–∫–∞, –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤, –¥–æ—Å—Ç—É–ø –∫ —á–ª–µ–Ω–∞–º)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π PML

### 2.4 –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (index/)

**SymbolIndex**:
- In-memory –∏–Ω–¥–µ–∫—Å –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ workspace
- Map —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–º–µ–Ω–∏
- –•—Ä–∞–Ω–µ–Ω–∏–µ AST –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

**WorkspaceIndexer**:
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- Batch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –ø—Ä–æ—Ç–∏–≤ path traversal

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ

### 2.5 –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (providers/)

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| **Completion** | –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤, –æ–±—ä–µ–∫—Ç–æ–≤ | ‚úÖ |
| **Hover** | Tooltip —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–∏–º–≤–æ–ª–µ | ‚úÖ |
| **Definition** | Go to Definition | ‚úÖ |
| **References** | Find All References | ‚úÖ |
| **DocumentSymbol** | Outline view | ‚úÖ |
| **SignatureHelp** | –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | ‚úÖ |

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### 2.6 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (diagnostics/)

**TypoDetector**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –∏–º–µ–Ω–∞—Ö –º–µ—Ç–æ–¥–æ–≤
- Levenshtein distance –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –∏–º–µ–Ω
- Quick Fix –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**ArrayIndexChecker**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Ö–æ–¥–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞
- –ê–Ω–∞–ª–∏–∑ flow –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## 3. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

### 3.1 TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**tsconfig.json**:
```json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitOverride": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true
  }
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω

**–ù–µ –≤–∫–ª—é—á–µ–Ω–æ**:
- ‚ö†Ô∏è `noUncheckedIndexedAccess` ‚Äî —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ ~115 –º–µ—Å—Ç (–æ—Ç–ª–æ–∂–µ–Ω–æ)

### 3.2 ESLint

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `.eslintrc.json`
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ TypeScript
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ code quality
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –æ—Å–ª–∞–±–ª–µ–Ω—ã –¥–ª—è legacy –∫–æ–¥–∞ (parser.ts)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```bash
npm run lint
# ‚úÖ 0 errors, 0 warnings
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ß–∏—Å—Ç–æ

### 3.3 Git Hooks

**Husky + lint-staged**:
```json
{
  "lint-staged": {
    "*.{ts,js}": ["eslint --fix"]
  }
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- ‚úÖ Pre-commit hook –∑–∞–ø—É—Å–∫–∞–µ—Ç ESLint —Å auto-fix
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–º–∏—Ç —Å –æ—à–∏–±–∫–∞–º–∏ –ª–∏–Ω—Ç–µ—Ä–∞

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§—Ä–µ–π–º–≤–æ—Ä–∫**: Vitest

**–ü–æ–∫—Ä—ã—Ç–∏–µ**:
- ‚úÖ –ü–∞—Ä—Å–µ—Ä (lexer, parser) ‚Äî unit —Ç–µ—Å—Ç—ã
- ‚úÖ TypoDetector ‚Äî unit —Ç–µ—Å—Ç—ã
- ‚úÖ ArrayIndexChecker ‚Äî unit —Ç–µ—Å—Ç—ã
- ‚ö†Ô∏è –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã ‚Äî –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- ‚ö†Ô∏è –§–æ—Ä–º–∞—Ç—Ç–µ—Ä ‚Äî –Ω–µ –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (~40%)

---

## 4. –°–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 4.1 –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

**esbuild**:
- Bundle client (src/) ‚Üí out/extension.js
- Bundle server (packages/pml-language-server/) ‚Üí packages/pml-language-server/out/server.js
- Minification, tree-shaking

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚ö° –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ (~1 —Å–µ–∫)
- üì¶ –ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä VSIX (~2 MB)

**–°–∫—Ä–∏–ø—Ç—ã**:
```bash
npm run compile          # –°–±–æ—Ä–∫–∞ (development)
npm run pack             # –°–æ–∑–¥–∞–Ω–∏–µ VSIX
npm run install:local    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ VS Code/Cursor
npm run pack:install     # –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω

### 4.2 .vscodeignore

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ VSIX**:
- ‚úÖ Source maps (.map)
- ‚úÖ TypeScript source (src/, packages/)
- ‚úÖ Tests
- ‚úÖ Dev dependencies
- ‚úÖ IDE settings

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: VSIX ~2 MB (44 —Ñ–∞–π–ª–∞)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û–ø—Ç–∏–º–∞–ª–µ–Ω

---

## 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 5.1 Path Traversal Protection ‚úÖ

**WorkspaceIndexer.isValidPath()**:
```typescript
private isValidPath(filePath: string, workspaceRoot: string): boolean {
    const resolved = path.resolve(filePath);
    const root = path.resolve(workspaceRoot);
    
    if (!resolved.startsWith(root)) {
        return false; // Outside workspace
    }
    
    if (path.normalize(resolved).includes('..')) {
        return false; // Symlink/traversal attempt
    }
    
    return true;
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞

### 5.2 Input Validation

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
- ‚úÖ `error: unknown` —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ø–∞—Ä—Å–µ—Ä–µ
- ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ tools.ts (–¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å readonly)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

### 5.3 –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–æ–º–∞–Ω–¥–∞**: `npm audit`

**–°—Ç–∞—Ç—É—Å**: (–Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ —Ç–µ–∫—É—â–µ–º –∞–Ω–∞–ª–∏–∑–µ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

---

## 6. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 6.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

**–ü—Ä–æ–±–ª–µ–º–∞**: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –û—á–∏—Å—Ç–∫–∞ `documentTexts` –≤ `SymbolIndex.removeFile()`

```typescript
public removeFile(uri: string): void {
    // ... remove from indexes
    this.fileSymbols.delete(uri);
    this.documentTexts.delete(uri); // ‚úÖ Fixed
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£—Ç–µ—á–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

### 6.2 –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è workspace

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- ‚ö†Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö workspace –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –î–æ–±–∞–≤–∏—Ç—å `connection.window.createWorkDoneProgress`
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞—Ç—á–∏–Ω–≥ –∏–ª–∏ worker threads

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å UX

### 6.3 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**AST –∫—ç—à**: ‚úÖ –ï—Å—Ç—å (–≤ SymbolIndex)
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: ‚úÖ –ö—ç—à per-document

**–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è**: ‚ö†Ô∏è –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 7.1 Language Server

**Graceful Shutdown**:
```typescript
export async function deactivateLanguageServer(): Promise<void> {
    if (!client) return;
    
    try {
        const timeout = new Promise<void>((resolve) => {
            setTimeout(() => {
                console.warn('Language server shutdown timeout (5s), forcing stop');
                resolve();
            }, 5000);
        });
        
        await Promise.race([client.stop(), timeout]);
        console.log('Language server stopped successfully');
    } catch (error: unknown) {
        const message = error instanceof Error ? error.message : String(error);
        console.error('Error stopping language server:', message);
    } finally {
        client = undefined;
    }
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

### 7.2 Parser Error Recovery

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**: Fail-fast + diagnostics

**–û–±—Ä–∞–±–æ—Ç–∫–∞**:
- ‚úÖ –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ–≤—è—Ç—Å—è –≤ server.ts
- ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ Fallback –Ω–∞ –ø—É—Å—Ç–æ–π AST

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ

### 7.3 Extension Activation

**Error Handling**:
```typescript
try {
    const client = activateLanguageServer(context);
    
    client.onDidChangeState((event) => {
        if (event.newState === 2) { // Stopped
            vscode.window.showWarningMessage(
                'PML Language Server stopped. Some features may be unavailable.'
            );
        }
    });
} catch (error: unknown) {
    const message = error instanceof Error ? error.message : String(error);
    console.error('Failed to start PML Language Server:', message);
    
    vscode.window.showErrorMessage(
        `PML Language Server failed to start: ${message}. ` +
        `Please check the Output panel for details.`,
        'View Output'
    );
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å user feedback

---

## 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 8.1 –ù–∞–ª–∏—á–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|----------|--------|
| `README.md` | –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ |
| `CHANGELOG.md` | –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚úÖ |
| `ARCHITECTURE_ANALYSIS.md` | –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç | ‚úÖ |
| `.editorconfig` | –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | ‚úÖ |

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

### 8.2 Code Comments

**–ö–∞—á–µ—Å—Ç–≤–æ**:
- ‚úÖ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- ‚ö†Ô∏è –°–º–µ—à–µ–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–µ–º–ª–µ–º–æ

### 8.3 Architecture Decision Records (ADR)

**–°—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å ADR –¥–ª—è:
- –í—ã–±–æ—Ä LSP –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –í—ã–±–æ—Ä esbuild –≤–º–µ—Å—Ç–æ webpack/tsc
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è error recovery –≤ –ø–∞—Ä—Å–µ—Ä–µ

---

## 9. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### 9.1 .editorconfig ‚úÖ

```ini
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.{ts,js,json}]
indent_style = space
indent_size = 4

[*.md]
trim_trailing_whitespace = false
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 9.2 .gitignore ‚úÖ

**–ü–æ–∫—Ä—ã—Ç–∏–µ**:
- ‚úÖ node_modules
- ‚úÖ out/, dist/
- ‚úÖ *.vsix
- ‚úÖ *.map
- ‚úÖ IDE settings (.vscode/, .idea/)
- ‚úÖ Logs, cache
- ‚úÖ Environment files

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### 9.3 package.json

**Scripts**: ‚úÖ –•–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã
**Dependencies**: ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (—Ç–æ–ª—å–∫–æ vscode-languageclient)
**DevDependencies**: ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ

---

## 10. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 10.1 –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P1)

**1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–æ–ª—å—à–∏–µ workspace –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –±–µ–∑ feedback
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å `WorkDoneProgress`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è UX –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

**2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ tools.ts**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ readonly –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ `document.isUntitled`, `document.isDirty`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–æ

### 10.2 –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P2)

**1. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–≤–µ—Å—Ç–∏ –¥–æ 70%+
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä–∞–±–æ—Ç—ã

**2. noUncheckedIndexedAccess**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç–∫–ª—é—á–µ–Ω –∏–∑-–∑–∞ 115 –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –û—Ç–ª–æ–∂–µ–Ω–æ

**3. –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π formatter**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û–¥–∏–Ω –±–æ–ª—å—à–æ–π –∫–ª–∞—Å—Å
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏ (IndentationFixer, AlignmentFormatter, etc.)
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

**4. ADR –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å ADR
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

### 10.3 –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P3)

**1. Dependency Injection**
- –ñ–µ—Å—Ç–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ú–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (Inversify)

**2. Worker Threads –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏**
- –ú–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö workspace

**3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (winston)
- –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–Ω–∏ (debug, info, warn, error)

**4. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –†–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

---

## 11. –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### 11.1 –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | LSP, —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ | Path traversal –∑–∞—â–∏—Ç–∞, —Ç–∏–ø–∏–∑–∞—Ü–∏—è errors |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ | esbuild, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É—Ç–µ—á–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Graceful shutdown, –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ |
| **Code Quality** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ESLint —á–∏—Å—Ç–æ, TypeScript strict, git hooks |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ | –ü–∞—Ä—Å–µ—Ä –ø–æ–∫—Ä—ã—Ç, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ—Ç |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ | README, CHANGELOG, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ |
| **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ | –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–µ–∫–æ—Ç–æ—Ä—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞**: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4.2/5)

### 11.2 Production Readiness

‚úÖ **–ì–û–¢–û–í –ö PRODUCTION** —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏:

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã**:
- ‚úÖ –í—Å–µ P0 –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ P1 –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–µ–Ω–æ
- ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º (ESLint, TypeScript strict)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: path traversal –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –ü–∞–º—è—Ç—å: —É—Ç–µ—á–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ü–∞—Ä—Å–µ—Ä: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π PML
- ‚úÖ Git hooks –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ —à–∏—Ä–æ–∫–∏–º —Ä–µ–ª–∏–∑–æ–º**:
- ‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö workspace (>1000 —Ñ–∞–π–ª–æ–≤)
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚ö†Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm audit` –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç–∏

### 11.3 –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –£–ª—É—á—à–µ–Ω–∏–µ | –î–µ—Ç–∞–ª–∏ |
|---------|-----------|--------|
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | +100% | Path traversal –∑–∞—â–∏—Ç–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | +85% | –¢–∏–ø–∏–∑–∞—Ü–∏—è, graceful shutdown, –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é | +95% | –û—á–∏—Å—Ç–∫–∞ documentTexts |
| –ü–∞—Ä—Å–µ—Ä | +20% | AssignmentExpression –¥–ª—è `!var[index] = value` |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è | +100% | .editorconfig, ESLint, git hooks |
| Code Quality | +90% | 33 ESLint –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

---

## 12. Roadmap (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π –ø–ª–∞–Ω (1-2 –º–µ—Å—è—Ü–∞)

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
2. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–æ 70%
3. ‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ `npm audit` –∏ –æ–±–Ω–æ–≤–∏—Ç—å —É—è–∑–≤–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ tools.ts

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–π –ø–ª–∞–Ω (3-6 –º–µ—Å—è—Ü–µ–≤)

1. ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ formatter (—Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏)
2. ‚úÖ –í–Ω–µ–¥—Ä–∏—Ç—å `noUncheckedIndexedAccess` (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ)
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å ADR –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –ø–ª–∞–Ω (6+ –º–µ—Å—è—Ü–µ–≤)

1. ‚úÖ Dependency Injection –¥–ª—è –ª—É—á—à–µ–π —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏
2. ‚úÖ Worker Threads –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
3. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. ‚úÖ Semantic highlighting

---

## 13. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**vscode-pml-extension** —è–≤–ª—è–µ—Ç—Å—è **–∑—Ä–µ–ª—ã–º, —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º**, –≥–æ—Ç–æ–≤—ã–º –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö (LSP), –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º TypeScript –∏ ESLint, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã.

**–ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—à–µ–ª –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**:
- –í—Å–µ P0 (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ) –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ P1 (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) —Ä–µ—à–µ–Ω–æ
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã git hooks –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- –ü–∞—Ä—Å–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ PML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

**–û—Å—Ç–∞–≤—à–∏–µ—Å—è —É–ª—É—á—à–µ–Ω–∏—è** –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ P2 (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏ P3 (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç production —Ä–µ–ª–∏–∑. –≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–≥–∏ –∏ UX —É–ª—É—á—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ VS Code Marketplace. –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:
1. `npm audit` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±–æ–ª—å—à–∏—Ö workspace
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. User acceptance testing (UAT)

**–î–∞—Ç–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏**: 4 –Ω–æ—è–±—Ä—è 2025  
**–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ APPROVED FOR PRODUCTION

