{
  "name": "pml-aveva-e3d",
  "displayName": "PML for AVEVA E3D",
  "description": "Language support for PML (Programmable Macro Language) AVEVA E3D with full LSP and IntelliSense",
  "version": "0.9.9",
  "publisher": "mikhalchankasm",
  "author": {
    "name": "MIKHALCHANKA SIARHEI"
  },
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "Programming Languages",
    "Formatters",
    "Snippets"
  ],
  "keywords": [
    "pml",
    "aveva",
    "e3d",
    "pdms",
    "macro"
  ],
  "main": "./out/extension.js",
  "icon": "./icons/pml-icon.png",
  "activationEvents": [
    "onLanguage:pml"
  ],
  "contributes": {
    "keybindings": [
      {
        "command": "pml.showStringMethods",
        "key": "ctrl+shift+s",
        "when": "editorTextFocus && resourceExtname == '.pml'"
      },
      {
        "command": "pml.showRealMethods",
        "key": "ctrl+shift+r",
        "when": "editorTextFocus && resourceExtname == '.pml'"
      },
      {
        "command": "pml.showArrayMethods",
        "key": "ctrl+shift+a",
        "when": "editorTextFocus && resourceExtname == '.pml'"
      },
      {
        "command": "pml.showDbrefMethods",
        "key": "ctrl+shift+d",
        "when": "editorTextFocus && resourceExtname == '.pml'"
      },
      {
        "command": "pml.showAllMethods",
        "key": "ctrl+shift+m",
        "when": "editorTextFocus && resourceExtname == '.pml'"
      }
    ],
    "languages": [
      {
        "id": "pml",
        "aliases": [
          "PML",
          "pml",
          "Programmable Macro Language"
        ],
        "extensions": [
          ".pml",
          ".pmlobj",
          ".pmlfnc",
          ".pmlfrm",
          ".pmlmac",
          ".pmlcmd"
        ],
        "configuration": "./language-configuration.json",
        "icon": {
          "light": "./icons/pml-icon.png",
          "dark": "./icons/pml-icon.png"
        }
      }
    ],
    "grammars": [
      {
        "language": "pml",
        "scopeName": "source.pml",
        "path": "./syntaxes/pml.tmLanguage.json"
      }
    ],
    "snippets": [
      {
        "language": "pml",
        "path": "./snippets/pml.json"
      }
    ],
    "commands": [
      {
        "command": "pml.formatDocument",
        "title": "Format PML Document",
        "category": "PML"
      },
      {
        "command": "pml.sortMethodsAscending",
        "title": "Sort Methods (A→Z)",
        "category": "PML"
      },
      {
        "command": "pml.sortMethodsDescending",
        "title": "Sort Methods (Z→A)",
        "category": "PML"
      },
      {
        "command": "pml.sortLinesAsc",
        "title": "Sort Lines A-Z",
        "category": "PML Tools"
      },
      {
        "command": "pml.sortLinesDesc",
        "title": "Sort Lines Z-A",
        "category": "PML Tools"
      },
      {
        "command": "pml.sortLinesLength",
        "title": "Sort Lines by Length",
        "category": "PML Tools"
      },
      {
        "command": "pml.sortLinesSmart",
        "title": "Smart Natural Sort",
        "category": "PML Tools"
      },
      {
        "command": "pml.removeDuplicates",
        "title": "Remove Duplicate Lines",
        "category": "PML Tools"
      },
      {
        "command": "pml.removeConsecutiveDuplicates",
        "title": "Remove Consecutive Duplicates",
        "category": "PML Tools"
      },
      {
        "command": "pml.removeEmptyLines",
        "title": "Remove Empty Lines",
        "category": "PML Tools"
      },
      {
        "command": "pml.removeWhitespaceLines",
        "title": "Remove Whitespace-Only Lines",
        "category": "PML Tools"
      },
      {
        "command": "pml.trimWhitespace",
        "title": "Trim Trailing Whitespace",
        "category": "PML Tools"
      },
      {
        "command": "pml.tabsToSpaces",
        "title": "Convert Tabs to Spaces",
        "category": "PML Tools"
      },
      {
        "command": "pml.spacesToTabs",
        "title": "Convert Spaces to Tabs",
        "category": "PML Tools"
      },
      {
        "command": "pml.extractVariables",
        "title": "Extract Variables",
        "category": "PML Tools"
      },
      {
        "command": "pml.extractMethods",
        "title": "Extract Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.addComments",
        "title": "Add Comments",
        "category": "PML Tools"
      },
      {
        "command": "pml.removeComments",
        "title": "Remove Comments",
        "category": "PML Tools"
      },
      {
        "command": "pml.alignPML",
        "title": "Align PML",
        "category": "PML Tools"
      },
      {
        "command": "pml.showStringMethods",
        "title": "Show STRING Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.showRealMethods",
        "title": "Show REAL Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.showArrayMethods",
        "title": "Show ARRAY Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.showDbrefMethods",
        "title": "Show DBREF Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.showAllMethods",
        "title": "Show All Methods",
        "category": "PML Tools"
      },
      {
        "command": "pml.reloadForm",
        "title": "Reload Form",
        "category": "PML Forms"
      },
      {
        "command": "pml.generateMethodsSummary",
        "title": "Generate Methods Summary",
        "category": "PML Forms"
      },
      {
        "command": "pml.updateMethodsSummary",
        "title": "Update Methods Summary",
        "category": "PML Forms"
      },
      {
        "command": "pml.insertMethodDocBlock",
        "title": "Insert Method Documentation Block",
        "category": "PML Forms"
      },
      {
        "command": "pml.makeListPath",
        "title": "Make Array (add /)",
        "category": "PML Array",
        "icon": "$(file-symlink-directory)"
      },
      {
        "command": "pml.makeListString",
        "title": "Make Array (add |....|)",
        "category": "PML Array",
        "icon": "$(quote)"
      },
      {
        "command": "pml.makeListPathString",
        "title": "Make Array (add / and |....|)",
        "category": "PML Array",
        "icon": "$(symbol-string)"
      },
      {
        "command": "pml.reindexArray",
        "title": "ReIndex",
        "category": "PML Array",
        "icon": "$(list-ordered)"
      },
      {
        "command": "pml.addToArray",
        "title": "Add to Array",
        "category": "PML Array",
        "icon": "$(add)"
      },
      {
        "command": "pml.openButtonExample",
        "title": "Button Gadgets",
        "category": "PML Examples"
      },
      {
        "command": "pml.openFrameExample",
        "title": "Frame Gadgets",
        "category": "PML Examples"
      }
    ],
    "submenus": [
      {
        "id": "pml.tools",
        "label": "PML Tools",
        "icon": "$(target)"
      },
      {
        "id": "pml.forms",
        "label": "PML - Forms",
        "icon": "$(file-code)"
      },
      {
        "id": "pml.array",
        "label": "PML - Array",
        "icon": "$(symbol-array)"
      },
      {
        "id": "pml.quickActions",
        "label": "PML - Quick Action",
        "icon": "$(zap)"
      },
      {
        "id": "pml.examples",
        "label": "PML - Examples, FAQ",
        "icon": "$(book)"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "PML Configuration",
      "properties": {
        "pml.formatter.indentSize": {
          "type": "number",
          "default": 4,
          "description": "Number of spaces for indentation"
        },
        "pml.formatter.removeMultipleEmptyLines": {
          "type": "boolean",
          "default": true,
          "description": "Remove multiple consecutive empty lines"
        },
        "pml.formatter.formatMethodBlocks": {
          "type": "boolean",
          "default": true,
          "description": "Auto-format method blocks"
        },
        "pml.formatter.formatFormBlocks": {
          "type": "boolean",
          "default": true,
          "description": "Auto-format form/frame blocks"
        },
        "pml.formatter.alignAssignments": {
          "type": "boolean",
          "default": true,
          "description": "Align assignment operators (=) in consecutive lines"
        },
        "pml.formatter.fixIndentation": {
          "type": "boolean",
          "default": true,
          "description": "Auto-fix basic indentation (tabs to spaces, correct nesting)"
        },
        "pml.trace": {
          "description": "Enable trace logging for PML extension (completion, etc.).",
          "default": "off",
          "type": "string",
          "enum": [
            "off",
            "messages",
            "verbose"
          ]
        },
        "pml.diagnostics.typoDetection": {
          "type": "string",
          "default": "off",
          "enum": [
            "off",
            "warning"
          ],
          "description": "Detect typos in PML keywords (CURRENTLY DISABLED - parser catches syntax errors instead. Use 'off')"
        }
      }
    },
    "menus": {
      "editor/context": [
        {
          "submenu": "pml.quickActions",
          "when": "editorLangId == pml && editorHasSelection",
          "group": "1_pml@1"
        },
        {
          "submenu": "pml.array",
          "when": "editorLangId == pml && editorHasSelection",
          "group": "1_pml@2"
        },
        {
          "submenu": "pml.forms",
          "when": "editorLangId == pml",
          "group": "1_pml@3"
        },
        {
          "submenu": "pml.examples",
          "when": "editorLangId == pml",
          "group": "1_pml@4"
        }
      ],
      "pml.tools": [
        {
          "command": "pml.sortLinesAsc",
          "group": "1_sort@1"
        },
        {
          "command": "pml.sortLinesDesc",
          "group": "1_sort@2"
        },
        {
          "command": "pml.sortLinesLength",
          "group": "1_sort@3"
        },
        {
          "command": "pml.sortLinesSmart",
          "group": "1_sort@4"
        },
        {
          "command": "pml.removeDuplicates",
          "group": "2_duplicates@1"
        },
        {
          "command": "pml.removeConsecutiveDuplicates",
          "group": "2_duplicates@2"
        },
        {
          "command": "pml.removeEmptyLines",
          "group": "3_whitespace@1"
        },
        {
          "command": "pml.removeWhitespaceLines",
          "group": "3_whitespace@2"
        },
        {
          "command": "pml.trimWhitespace",
          "group": "3_whitespace@3"
        },
        {
          "command": "pml.tabsToSpaces",
          "group": "3_whitespace@4"
        },
        {
          "command": "pml.spacesToTabs",
          "group": "3_whitespace@5"
        },
        {
          "command": "pml.extractVariables",
          "group": "4_extract@1"
        },
        {
          "command": "pml.extractMethods",
          "group": "4_extract@2"
        },
        {
          "command": "pml.alignPML",
          "group": "5_align@1"
        },
        {
          "command": "pml.addComments",
          "group": "6_comments@1"
        },
        {
          "command": "pml.removeComments",
          "group": "6_comments@2"
        },
        {
          "submenu": "pml.forms",
          "group": "7_forms"
        },
        {
          "submenu": "pml.array",
          "group": "8_array"
        },
        {
          "submenu": "pml.examples",
          "group": "9_examples"
        }
      ],
      "pml.forms": [
        {
          "command": "pml.reloadForm",
          "group": "1_forms@1"
        },
        {
          "command": "pml.insertMethodDocBlock",
          "group": "1_forms@2"
        },
        {
          "command": "pml.generateMethodsSummary",
          "group": "1_forms@3"
        },
        {
          "command": "pml.updateMethodsSummary",
          "group": "1_forms@4"
        }
      ],
      "pml.array": [
        {
          "command": "pml.makeListPath",
          "group": "1_array@1"
        },
        {
          "command": "pml.makeListString",
          "group": "1_array@2"
        },
        {
          "command": "pml.makeListPathString",
          "group": "1_array@3"
        },
        {
          "command": "pml.reindexArray",
          "group": "2_reindex@1"
        },
        {
          "command": "pml.addToArray",
          "group": "3_add@1"
        }
      ],
      "pml.quickActions": [
        {
          "command": "pml.sortLinesAsc",
          "group": "1_sort@1"
        },
        {
          "command": "pml.sortLinesDesc",
          "group": "1_sort@2"
        },
        {
          "command": "pml.sortLinesLength",
          "group": "1_sort@3"
        },
        {
          "command": "pml.sortLinesSmart",
          "group": "1_sort@4"
        },
        {
          "command": "pml.removeDuplicates",
          "group": "2_duplicates@1"
        },
        {
          "command": "pml.removeConsecutiveDuplicates",
          "group": "2_duplicates@2"
        },
        {
          "command": "pml.removeEmptyLines",
          "group": "3_whitespace@1"
        },
        {
          "command": "pml.removeWhitespaceLines",
          "group": "3_whitespace@2"
        },
        {
          "command": "pml.trimWhitespace",
          "group": "3_whitespace@3"
        },
        {
          "command": "pml.tabsToSpaces",
          "group": "3_whitespace@4"
        },
        {
          "command": "pml.spacesToTabs",
          "group": "3_whitespace@5"
        },
        {
          "command": "pml.extractVariables",
          "group": "4_extract@1"
        },
        {
          "command": "pml.extractMethods",
          "group": "4_extract@2"
        },
        {
          "command": "pml.alignPML",
          "group": "5_align@1"
        },
        {
          "command": "pml.addComments",
          "group": "6_comments@1"
        },
        {
          "command": "pml.removeComments",
          "group": "6_comments@2"
        },
        {
          "submenu": "pml.forms",
          "group": "7_forms"
        },
        {
          "submenu": "pml.array",
          "group": "8_array"
        },
        {
          "submenu": "pml.examples",
          "group": "9_examples"
        }
      ],
      "pml.examples": [
        {
          "command": "pml.openButtonExample",
          "group": "1_examples@1"
        },
        {
          "command": "pml.openFrameExample",
          "group": "1_examples@2"
        }
      ],
      "editor/title": [
        {
          "command": "pml.formatDocument",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd",
          "group": "navigation"
        },
        {
          "submenu": "pml.tools",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd",
          "group": "navigation"
        }
      ],
      "commandPalette": [
        {
          "command": "pml.sortMethodsAscending",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.sortMethodsDescending",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.sortLinesAsc",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.sortLinesDesc",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.sortLinesLength",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.sortLinesSmart",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.removeDuplicates",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.removeConsecutiveDuplicates",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.removeEmptyLines",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.removeWhitespaceLines",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.trimWhitespace",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.tabsToSpaces",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.spacesToTabs",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.extractVariables",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.extractMethods",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.removeComments",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.reloadForm",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.insertMethodDocBlock",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.generateMethodsSummary",
          "when": "resourceExtname == .pmlfrm"
        },
        {
          "command": "pml.updateMethodsSummary",
          "when": "resourceExtname == .pmlfrm"
        },
        {
          "command": "pml.makeListPath",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.makeListString",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.makeListPathString",
          "when": "resourceExtname == .pml || resourceExtname == .pmlobj || resourceExtname == .pmlfnc || resourceExtname == .pmlfrm || resourceExtname == .pmlmac || resourceExtname == .pmlcmd"
        },
        {
          "command": "pml.showStringMethods",
          "when": "editorTextFocus && resourceExtname == .pml"
        },
        {
          "command": "pml.showRealMethods",
          "when": "editorTextFocus && resourceExtname == .pml"
        },
        {
          "command": "pml.showArrayMethods",
          "when": "editorTextFocus && resourceExtname == .pml"
        },
        {
          "command": "pml.showDbrefMethods",
          "when": "editorTextFocus && resourceExtname == .pml"
        },
        {
          "command": "pml.showAllMethods",
          "when": "editorTextFocus && resourceExtname == .pml"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run esbuild-base -- --production",
    "compile": "npm run esbuild-base",
    "compile:tsc": "tsc -p ./ && cd packages/pml-language-server && tsc -p ./",
    "watch": "npm run esbuild-base -- --watch",
    "watch:tsc": "tsc -watch -p ./",
    "esbuild-base": "node esbuild.js",
    "esbuild": "npm run esbuild-base -- --production",
    "test": "npm --prefix packages/pml-language-server test",
    "pretest": "npm run compile",
    "lint": "eslint src --ext ts",
    "pack": "powershell -NoProfile -Command \"Remove-Item -ErrorAction SilentlyContinue pml-aveva-e3d-*.vsix; npx @vscode/vsce package --no-yarn\"",
    "install:local": "powershell -NoProfile -ExecutionPolicy Bypass -File scripts/reinstall.ps1",
    "pack:install": "npm run pack && npm run install:local"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.1"
  },
  "devDependencies": {
    "@types/node": "^18.0.0",
    "@types/vscode": "^1.80.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "esbuild": "^0.25.11",
    "eslint": "^8.45.0",
    "typescript": "^5.1.6"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/mikhalchankasm/vscode-pml-aveva-e3d.git"
  },
  "bugs": {
    "url": "https://github.com/mikhalchankasm/vscode-pml-aveva-e3d/issues"
  },
  "homepage": "https://github.com/mikhalchankasm/vscode-pml-aveva-e3d",
  "license": "MIT"
}
