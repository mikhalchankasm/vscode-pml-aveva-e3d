------------------------------------------------------------------------
--
-- Method:      initbran
--
-- Description: 
--
-- Method Type: Function/Procedure
-- Arguments:
--   [#] [R/RW] [Data Type] [Description]
-- Return:
--   [Data Type] [Description]
--
------------------------------------------------------------------------
define method .initbran(!pipelist is array)

    do !element values !pipes
    
        if ( !pipes.size() lt 0 ) then
            -- true branch
        else
            -- false branch
        endif
            
    enddo

    !branlist = object array()

    do !pipe values !pipelist

        !branlist.appendarray(  !!collectallfor('BRAN', 'Lissue eq false' , !pipe ) )
    enddo

    !outlist = object array()

    do !bran values !branlist

        !obj = object bdpipe(!bran)
        !obj = object bdpipe(!bran)
        !outlist.append(!obj.finishcalc())

    enddo

    !this.export(!outlist)

endmethod



!this.initbran(!pipes)


!list[1 ] = /240126-НК1
!list[2 ] = /240123-НК1
!list[3 ] = /240100-ТК4
!list[4 ] = /240100-ТК5
!list[5 ] = /240105-ТХ
!list[6 ] = /240114-ТХ
!list[7 ] = /240000-СЭС
!list[8 ] = /240134-ТХР1
!list[9 ] = /240191-ПТ1
!list[10] = /240151-ТХР1
!list[11] = /240123-НК3
!list[12] = /240000-АС17
!list[13] = /240000-ЛТ3
!list[14] = /240000-НВК1
!list[15] = /240101-ТХР3
!list[16] = /240000-ЛТ3
!list[17] = /240135-АС2
!list[18] = /240137-ТСГ
!list[19] = /240197-ТСГ
!list[20] = /240179-АС4
!list[21] = /240179-АС2
!list[22] = /240179-АС3
!list[23] = /240192-АС2
!list[24] = /240163-АС8
!list[25] = /240149-АС1
!list[26] = /240165-АС1
!list[27] = /240140-ТСГ1
!list[28] = /240164-ТСГ1
!list[29] = /240166-ТСГ1
!list[30] = /240168-АС1
!list[31] = /240000-ГТМ1
!list[32] = /240000-ТСГ7
!list[33] = /240100-ТХР3
!list[34] = /240000-АС1
!list[35] = /240000-АС6
!list[36] = /240124-ТСГ1
!list[37] = /240125-ТСГ1
!list[38] = /240126-ТСГ1
!list[39] = /240146-ТСГ1

do !i index !list
    !item = !list[!i].dbref()
    handle any
        $P $!item
    skip
    endhandle
    -- loop body
    !!FMSYS.setProgress(100 / !list.size() * !i)
    
enddo
!!FMSYS.setProgress(0)